(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"I+8Q":function(a,e,t){"use strict";t.r(e);var n=t("QbLZ"),o=t.n(n),i=t("jo6Y"),s=t.n(i),c=(t("74aM"),t("Kl5d")),r=t.n(c),l=t("4d7F"),p=t.n(l),u=t("Yz+Y"),d=t.n(u),m=t("iCc5"),h=t.n(m),g=t("V7oC"),f=t.n(g),v=t("FYw3"),k=t.n(v),y=t("mRg0"),w=t.n(y),D=t("q1tI"),C=t.n(D),b=t("/MKj"),E=t("oGAK"),I=t("/V0K"),N=(t("UYi2"),t("gsVs")),M=t("CR0+"),A=t("KYcw"),j=t("FK3o"),L=(t("//+i"),t("Lz5M")),O=function(a){function e(a){h()(this,e);var t=k()(this,(e.__proto__||d()(e)).call(this,a));return t.loadData=function(a){return t.params.pageNum=a?t.params.pageNum+1:1,a||t.props.clearAnnounce(),new p.a(function(a,e){t.props.getAnnounce(t.params),a()})},t.loadMore=function(){var a=t.state.hasMoreData,e=t.props,n=(e.history,e.location);if(a)if(t.params.pageNum>4){t.state.appIps>=1&&(n.search=n.search.replace("black","white"));var o={linkType:"2",link:window.location.origin+window.location.pathname+"#"+E.a+n.search};try{navigator.uniaccount.jumpActivity(o)}catch(a){console.log(a)}}else t.loadData(!0)},t.state={hasMoreData:!1,appIps:"1"},t.params={pageNum:1,pageSize:20,innerCode:""},t}return w()(e,a),f()(e,[{key:"componentDidMount",value:function(){var a=this;Object(j.a)(),Object(M.a)().stockCode?(this.params.innerCode=Object(M.a)().stockCode,this.loadData(!1)):r.a.info("未传递股票代码！"),L.a.getAppInfo().then(function(e){console.log("接口获取的值为"+e.appVersionCode),a.setState({appIps:e.appVersionCode})})}},{key:"componentWillReceiveProps",value:function(a){if(Object(M.a)(a.location.search).stockCode!==Object(M.a)(this.props.location.search).stockCode)this.params.innerCode=Object(M.a)().stockCode,this.loadData(!1);else{var e=this.state.hasMoreData,t=this.params,n=t.pageSize;t.pageNum;a.totalCount<n?e&&this.setState({hasMoreData:!1}):!e&&this.setState({hasMoreData:!0})}}},{key:"render",value:function(){var a=this.state.hasMoreData,e=this.props,t=e.isLoading,n=s()(e,["isLoading"]);return C.a.createElement("div",{className:"Announce pageContainer"},C.a.createElement(N.a,o()({loadData:this.loadData,hasMoreData:a},n)),t?this.state.appIps>="1"?C.a.createElement("div",{class:"loading_list"},C.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},C.a.createElement("circle",{cx:"25",cy:"25",r:"9",fill:"none",class:"patha"}),C.a.createElement("circle",{stroke:"#D2A55D",cx:"25",cy:"25",r:"9",fill:"none",class:"path"})),C.a.createElement("span",null,"加载中")):C.a.createElement("div",{class:"loading_list"},C.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},C.a.createElement("circle",{cx:"25",cy:"25",r:"9",fill:"none",class:"patha"}),C.a.createElement("circle",{stroke:"#108ee9",cx:"25",cy:"25",r:"9",fill:"none",class:"path"})),C.a.createElement("span",null,"加载中")):C.a.createElement("div",{className:this.state.appIps>="1"?"loadMore5":"loadMore",onClick:this.loadMore},a?C.a.createElement("span",{className:"more"},"加载更多"):C.a.createElement("span",{className:"nomore"},"没有更多了")),C.a.createElement(A.a,null))}}]),e}(D.Component);e.default=Object(b.b)(function(a){var e=a.announce.list;return{data:e.data,isLoading:e.isLoading,totalCount:e.totalCount}},{getAnnounce:I.c,clearAnnounce:I.a})(O)},"gDS+":function(a,e,t){a.exports={default:t("oh+g"),__esModule:!0}},gsVs:function(a,e,t){"use strict";var n=t("jo6Y"),o=t.n(n),i=(t("74aM"),t("Kl5d")),s=t.n(i),c=t("gDS+"),r=t.n(c),l=t("Yz+Y"),p=t.n(l),u=t("iCc5"),d=t.n(u),m=t("V7oC"),h=t.n(m),g=t("FYw3"),f=t.n(g),v=t("mRg0"),k=t.n(v),y=t("q1tI"),w=t.n(y),D=t("/MKj"),C=t("LKL7"),b=(t("ZAQt"),t("YTy1"),t("oGAK"));var E=t("//+i"),I=t("Lz5M"),N=function(a){function e(a){d()(this,e);var t=f()(this,(e.__proto__||p()(e)).call(this,a));return t.toDetail=function(a){var e=t.props,n=(e.history,e.match),o=e.location;a.annoID?(localStorage.removeItem("pdfList"),t.props.getAnnouncePdf({annoID:a.annoID}).then(function(){var e=t.props.pdfData;if(e&&e.length)if(e.length>2){localStorage.setItem("pdfList",r()(e.slice(1)));var i={linkType:"2",link:window.location.origin+window.location.pathname+"#"+b.k+b.c+b.e+(o.search||"?").replace(/&styleColor=(black)|(white)/,"")+"&styleColor=white&annoID="+a.annoID};try{navigator.uniaccount.jumpActivity(i)}catch(a){console.log(a)}}else{var c=e[0].attaFile||"blank";e.length>1&&(c=e[1].attaFile||"blank");var l="https://data.alldobetter.com/Attachment/"+c.substring(9,13)+"/"+c.substring(13,15)+"/"+c.substring(15,17)+"/"+c,p=window.location.origin+window.location.pathname+"#"+b.k+b.c+b.e+b.d+o.search+"&href="+l+"&styleColor=white";c.indexOf(".PDF")<0&&(p=a.annH5Link);var u={linkType:"2",link:p};try{n.url.indexOf("announce/all")<0&&Object(E.a)("公告详情"),navigator.uniaccount.jumpActivity(u)}catch(a){console.log(a)}}else s.a.info("暂无详情预览")}).catch(function(a){return console.error(a)})):s.a.info("暂无详情预览")},t.state={appIps:"1"},t}return k()(e,a),h()(e,[{key:"componentDidMount",value:function(){var a=this;I.a.getAppInfo().then(function(e){console.log("接口获取的值为"+e.appVersionCode),a.setState({appIps:e.appVersionCode})})}},{key:"render",value:function(){var a=this,e=this.props,t=e.data,n=(o()(e,["data"]),"");return parseInt(this.state.appIps)>=1&&(n="keep-white"),t&&t.map(function(e){return w.a.createElement("div",{className:"ListItem "+n,key:e.annoID,onClick:function(){return a.toDetail(e)}},w.a.createElement("div",{className:"newsListItem"},w.a.createElement("div",{className:"titleWrap"},w.a.createElement("div",{className:"title"},e.infoTitle)),w.a.createElement("div",{className:"dateWrap announce"},w.a.createElement("div",{className:"category"},e.annCategory||""),w.a.createElement("div",{className:"date"},(e.infoPublTime||"").slice(0,-3)))))})}}]),e}(y.Component);e.a=Object(D.b)(function(a){var e=a.announce.pdf;return{isLoading:e.isLoading,pdfData:e.data}},{getAnnouncePdf:C.b})(N)},"oh+g":function(a,e,t){var n=t("WEpk"),o=n.JSON||(n.JSON={stringify:JSON.stringify});a.exports=function(a){return o.stringify.apply(o,arguments)}}}]);