(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{a4RJ:function(a,e,t){"use strict";var n=t("jo6Y"),o=t.n(n),s=t("Yz+Y"),i=t.n(s),c=t("iCc5"),l=t.n(c),r=t("V7oC"),p=t.n(r),m=t("FYw3"),d=t.n(m),u=t("mRg0"),h=t.n(u),v=t("q1tI"),f=t.n(v),w=t("ZAQt"),g=(t("YTy1"),t("oGAK")),k=t("//+i"),C=function(a){function e(a){l()(this,e);var t=d()(this,(e.__proto__||i()(e)).call(this,a));return t.toDetail=function(a){var e=t.props,n=(e.history,e.match),o=e.location,s={linkType:"2",link:window.location.origin+window.location.pathname+"#"+g.k+g.l+g.m+"/"+a+(o.search||"?").replace(/&styleColor=(black)|(white)/,"")+"&styleColor=white"};try{n.url.indexOf("news/all")<0&&Object(k.a)("新闻详情"),navigator.uniaccount.jumpActivity(s)}catch(a){console.log(a)}},t.state={},t}return h()(e,a),p()(e,[{key:"render",value:function(){var a=this,e=this.props,t=e.data;o()(e,["data"]);return t&&t.map(function(e){return f.a.createElement("div",{className:"ListItem",key:e.infoID,onClick:function(){return a.toDetail(e.infoID)}},f.a.createElement("div",{className:"newsListItem"},f.a.createElement("div",{className:"titleWrap"},f.a.createElement("div",{className:"title"},e.infoTitle)),f.a.createElement("div",{className:"dateWrap news"},f.a.createElement("div",{className:"date"},(e.infoPublTime||"").slice(0,-3)))))})}}]),e}(v.Component);Object(w.a)()(C);e.a=C},kUpa:function(a,e,t){"use strict";t.r(e);var n=t("QbLZ"),o=t.n(n),s=t("jo6Y"),i=t.n(s),c=(t("74aM"),t("Kl5d")),l=t.n(c),r=t("4d7F"),p=t.n(r),m=t("Yz+Y"),d=t.n(m),u=t("iCc5"),h=t.n(u),v=t("V7oC"),f=t.n(v),w=t("FYw3"),g=t.n(w),k=t("mRg0"),C=t.n(k),E=t("q1tI"),N=t.n(E),y=t("/MKj"),D=t("oGAK"),b=t("8e4s"),M=(t("UYi2"),t("a4RJ")),j=t("CR0+"),I=t("KYcw"),Y=t("FK3o"),O=(t("//+i"),t("Lz5M")),_=function(a){function e(a){h()(this,e);var t=g()(this,(e.__proto__||d()(e)).call(this,a));return t.loadData=function(a){return t.params.pageNum=a?t.params.pageNum+1:1,a||t.props.clearNews(),new p.a(function(a,e){t.props.getNews(t.params).then(function(){t.props.data}),a()})},t.loadMore=function(){var a=t.state.hasMoreData,e=t.props,n=(e.history,e.location);if(a)if(t.params.pageNum>4){t.state.appIps>=1&&(n.search=n.search.replace("black","white"));var o={linkType:"2",link:window.location.origin+window.location.pathname+"#"+D.b+n.search};try{navigator.uniaccount.jumpActivity(o)}catch(a){console.log(a)}}else t.loadData(!0)},t.state={hasMoreData:!1,appIps:"1"},t.params={pageNum:1,pageSize:20,stockCode:""},t}return C()(e,a),f()(e,[{key:"componentDidMount",value:function(){var a=this;Object(Y.a)(),Object(j.a)().stockCode?(this.params.stockCode=Object(j.a)().stockCode,this.loadData(!1)):l.a.info("未传递股票代码！"),O.a.getAppInfo().then(function(e){console.log("接口获取的值为"+e.appVersionCode),a.setState({appIps:e.appVersionCode})})}},{key:"componentWillReceiveProps",value:function(a){if(Object(j.a)(a.location.search).stockCode!==Object(j.a)(this.props.location.search).stockCode)this.params.stockCode=Object(j.a)().stockCode,this.loadData(!1);else{var e=this.state.hasMoreData,t=this.params,n=t.pageSize;t.pageNum;a.totalCount<n?e&&this.setState({hasMoreData:!1}):!e&&this.setState({hasMoreData:!0})}}},{key:"render",value:function(){var a=this.state.hasMoreData,e=this.props,t=e.isLoading,n=i()(e,["isLoading"]);return N.a.createElement("div",{className:"News pageContainer"},N.a.createElement(M.a,o()({loadData:this.loadData,hasMoreData:a},n)),t?this.state.appIps>="1"?N.a.createElement("div",{class:"loading_list"},N.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},N.a.createElement("circle",{cx:"25",cy:"25",r:"9",fill:"none",class:"patha"}),N.a.createElement("circle",{stroke:"#D2A55D",cx:"25",cy:"25",r:"9",fill:"none",class:"path"})),N.a.createElement("span",null,"加载中")):N.a.createElement("div",{class:"loading_list"},N.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},N.a.createElement("circle",{cx:"25",cy:"25",r:"9",fill:"none",class:"patha"}),N.a.createElement("circle",{stroke:"#108ee9",cx:"25",cy:"25",r:"9",fill:"none",class:"path"})),N.a.createElement("span",null,"加载中")):N.a.createElement("div",{className:this.state.appIps>="1"?"loadMore5":"loadMore",onClick:this.loadMore},a?N.a.createElement("span",{className:"more"},"加载更多"):N.a.createElement("span",{className:"nomore"},"没有更多了")),N.a.createElement(I.a,null))}}]),e}(E.Component);e.default=Object(y.b)(function(a){var e=a.news.list;return{data:e.data,isLoading:e.isLoading,totalCount:e.totalCount}},{getNews:b.c,clearNews:b.a})(_)}}]);