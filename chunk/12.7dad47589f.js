(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{a4RJ:function(e,a,t){"use strict";var n=t("jo6Y"),o=t.n(n),s=t("Yz+Y"),l=t.n(s),i=t("iCc5"),c=t.n(i),r=t("V7oC"),m=t.n(r),p=t("FYw3"),u=t.n(p),d=t("mRg0"),h=t.n(d),f=t("q1tI"),g=t.n(f),N=t("ZAQt"),v=(t("YTy1"),t("oGAK")),E=t("//+i"),w=function(e){function a(e){c()(this,a);var t=u()(this,(a.__proto__||l()(a)).call(this,e));return t.toDetail=function(e){var a=t.props,n=(a.history,a.match),o=a.location,s={linkType:"2",link:window.location.origin+window.location.pathname+"#"+v.k+v.l+v.m+"/"+e+(o.search||"?").replace(/&styleColor=(black)|(white)/,"")+"&styleColor=white"};try{n.url.indexOf("news/all")<0&&Object(E.a)("新闻详情"),navigator.uniaccount.jumpActivity(s)}catch(e){console.log(e)}},t.state={},t}return h()(a,e),m()(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.data;o()(a,["data"]);return t&&t.map(function(a){return g.a.createElement("div",{className:"ListItem",key:a.infoID,onClick:function(){return e.toDetail(a.infoID)}},g.a.createElement("div",{className:"newsListItem"},g.a.createElement("div",{className:"titleWrap"},g.a.createElement("div",{className:"title"},a.infoTitle)),g.a.createElement("div",{className:"dateWrap news"},g.a.createElement("div",{className:"date"},(a.infoPublTime||"").slice(0,-3)))))})}}]),a}(f.Component);Object(N.a)()(w);a.a=w},"g/Yp":function(e,a,t){"use strict";t.r(a);var n=t("QbLZ"),o=t.n(n),s=t("jo6Y"),l=t.n(s),i=(t("74aM"),t("Kl5d")),c=t.n(i),r=t("4d7F"),m=t.n(r),p=t("Yz+Y"),u=t.n(p),d=t("iCc5"),h=t.n(d),f=t("V7oC"),g=t.n(f),N=t("FYw3"),v=t.n(N),E=t("mRg0"),w=t.n(E),C=t("q1tI"),y=t.n(C),k=t("/MKj"),D=t("mMJ4"),L=(t("UYi2"),t("a4RJ")),I=t("CR0+"),M=t("KYcw"),b=t("FK3o"),Y=t("//+i"),j=t("Lz5M"),T=function(e){function a(e){h()(this,a);var t=v()(this,(a.__proto__||u()(a)).call(this,e));return t.initLoad=function(){t.loadData(null,!0).then(function(){t.params.pageNum<6&&(t.params.pageNum+=1,t.initLoad())}).catch(function(e){console.log(e)})},t.setScrollHeight=function(){document.getElementsByClassName("ListItem")[100]?(console.log(document.getElementsByClassName("ListItem")[100].offsetTop),document.documentElement.scrollTop=document.getElementsByClassName("ListItem")[100].offsetTop):document.getElementsByClassName("ListItem")[80]&&(console.log(document.getElementsByClassName("ListItem")[80].offsetTop),document.documentElement.scrollTop=document.getElementsByClassName("ListItem")[80].offsetTop)},t.loadData=function(e,a){return a||(t.params.pageNum=e?t.params.pageNum+1:1,e||t.props.clearNews()),new m.a(function(e,a){t.props.getNews(t.params).then(function(){t.props.isLoading||(6==t.params.pageNum&&t.setScrollHeight(),e())})})},t.loadMore=function(){t.state.hasMoreData&&t.loadData(!0)},t.state={hasMoreData:!1,appIps:"1"},t.params={pageNum:1,pageSize:20,stockCode:""},t}return w()(a,e),g()(a,[{key:"componentDidMount",value:function(){var e=this;Object(b.a)(),Object(Y.a)("新闻列表"),Object(I.a)().stockCode?(this.params.stockCode=Object(I.a)().stockCode,this.initLoad()):c.a.info("未传递股票代码！"),j.a.getAppInfo().then(function(a){console.log("接口获取的值为"+a.appVersionCode),e.setState({appIps:a.appVersionCode})})}},{key:"componentWillReceiveProps",value:function(e){var a=this.state.hasMoreData,t=this.params,n=t.pageSize;t.pageNum;e.totalCount<n?a&&this.setState({hasMoreData:!1}):!a&&this.setState({hasMoreData:!0})}},{key:"render",value:function(){var e=this.state.hasMoreData,a=this.props,t=a.isLoading,n=l()(a,["isLoading"]);return y.a.createElement("div",{className:"News pageContainer"},y.a.createElement(L.a,o()({loadData:this.loadData,hasMoreData:e},n)),t?this.state.appIps>="1"?y.a.createElement("div",{className:"loading_list"},y.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},y.a.createElement("circle",{cx:"25",cy:"25",r:"9",fill:"none",className:"patha"}),y.a.createElement("circle",{stroke:"#D2A55D",cx:"25",cy:"25",r:"9",fill:"none",className:"path"})),y.a.createElement("span",null,"加载中")):y.a.createElement("div",{className:"loading_list"},y.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},y.a.createElement("circle",{cx:"25",cy:"25",r:"9",fill:"none",className:"patha"}),y.a.createElement("circle",{stroke:"#108ee9",cx:"25",cy:"25",r:"9",fill:"none",className:"path"})),y.a.createElement("span",null,"加载中")):y.a.createElement("div",{className:this.state.appIps>="1"?"loadMore5":"loadMore",onClick:this.loadMore},e?y.a.createElement("span",{className:"more"},"加载更多"):y.a.createElement("span",{className:"nomore"},"没有更多了")),y.a.createElement(M.a,null))}}]),a}(C.Component);a.default=Object(k.b)(function(e){var a=e.news.allNews;return{data:a.data,isLoading:a.isLoading,totalCount:a.totalCount}},{getNews:D.c,clearNews:D.a})(T)}}]);