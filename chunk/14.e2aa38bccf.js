(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{HY6A:function(e,t,a){"use strict";a.r(t);var n=a("QbLZ"),o=a.n(n),s=a("jo6Y"),i=a.n(s),c=(a("74aM"),a("Kl5d")),l=a.n(c),r=a("4d7F"),p=a.n(r),u=a("Yz+Y"),m=a.n(u),d=a("iCc5"),g=a.n(d),h=a("V7oC"),f=a.n(h),v=a("FYw3"),y=a.n(v),C=a("mRg0"),D=a.n(C),E=a("q1tI"),N=a.n(E),k=a("/MKj"),I=a("BR8V"),w=(a("UYi2"),a("gsVs")),L=a("CR0+"),b=a("KYcw"),M=a("FK3o"),A=a("//+i"),S=a("Lz5M"),j=function(e){function t(e){g()(this,t);var a=y()(this,(t.__proto__||m()(t)).call(this,e));return a.initLoad=function(){a.loadData(null,!0).then(function(){a.params.pageNum<6&&(a.params.pageNum+=1,a.initLoad(),6==a.params.pageNum&&a.setScrollHeight())}).catch(function(e){console.log(e)})},a.setScrollHeight=function(){document.getElementsByClassName("ListItem")[100]?document.documentElement.scrollTop=document.getElementsByClassName("ListItem")[100].offsetTop:document.getElementsByClassName("ListItem")[80]&&(document.documentElement.scrollTop=document.getElementsByClassName("ListItem")[80].offsetTop)},a.loadData=function(e,t){return t||(a.params.pageNum=e?a.params.pageNum+1:1,e||a.props.clearAnnounce()),new p.a(function(e,t){a.props.getAnnounce(a.params).then(function(){a.props.isLoading||(6==a.params.pageNum&&a.setScrollHeight(),e())})})},a.loadMore=function(){a.state.hasMoreData&&a.loadData(!0)},a.state={hasMoreData:!1,appIps:"1"},a.params={pageNum:1,pageSize:20,innerCode:""},a}return D()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this;Object(M.a)(),Object(A.a)("公告列表"),Object(L.a)().stockCode?(this.params.innerCode=Object(L.a)().stockCode,this.initLoad()):l.a.info("未传递股票代码！"),S.a.getAppInfo().then(function(t){console.log("接口获取的值为"+t.appVersionCode),e.setState({appIps:t.appVersionCode})})}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.hasMoreData,a=this.params,n=a.pageSize;a.pageNum;e.totalCount<n?t&&this.setState({hasMoreData:!1}):!t&&this.setState({hasMoreData:!0})}},{key:"render",value:function(){var e=this.state.hasMoreData,t=this.props,a=t.isLoading,n=i()(t,["isLoading"]);return N.a.createElement("div",{className:"Announce pageContainer"},N.a.createElement(w.a,o()({loadData:this.loadData,hasMoreData:e},n)),a?this.state.appIps>="1"?N.a.createElement("div",{class:"loading_list"},N.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},N.a.createElement("circle",{stroke:"#D2A55D",cx:"25",cy:"25",r:"9",fill:"none",class:"path"})),N.a.createElement("span",null,"加载中")):N.a.createElement("div",{class:"loading_list"},N.a.createElement("svg",{viewBox:"0 0 50 50",className:"loading-icon"},N.a.createElement("circle",{stroke:"#108ee9",cx:"25",cy:"25",r:"9",fill:"none",class:"path"})),N.a.createElement("span",null,"加载中")):N.a.createElement("div",{className:this.state.appIps>="1"?"loadMore5":"loadMore",onClick:this.loadMore},e?N.a.createElement("span",{className:"more"},"加载更多"):N.a.createElement("span",{className:"nomore"},"没有更多了")),N.a.createElement(b.a,null))}}]),t}(E.Component);t.default=Object(k.b)(function(e){var t=e.announce.allAnnounce;return{data:t.data,isLoading:t.isLoading,totalCount:t.totalCount}},{getAnnounce:I.c,clearAnnounce:I.a})(j)},"gDS+":function(e,t,a){e.exports={default:a("oh+g"),__esModule:!0}},gsVs:function(e,t,a){"use strict";var n=a("jo6Y"),o=a.n(n),s=(a("74aM"),a("Kl5d")),i=a.n(s),c=a("gDS+"),l=a.n(c),r=a("Yz+Y"),p=a.n(r),u=a("iCc5"),m=a.n(u),d=a("V7oC"),g=a.n(d),h=a("FYw3"),f=a.n(h),v=a("mRg0"),y=a.n(v),C=a("q1tI"),D=a.n(C),E=a("/MKj"),N=a("LKL7"),k=(a("ZAQt"),a("YTy1"),a("oGAK"));var I=a("//+i"),w=a("Lz5M"),L=function(e){function t(e){m()(this,t);var a=f()(this,(t.__proto__||p()(t)).call(this,e));return a.toDetail=function(e){var t=a.props,n=(t.history,t.match),o=t.location;e.annoID?(localStorage.removeItem("pdfList"),a.props.getAnnouncePdf({annoID:e.annoID}).then(function(){var t=a.props.pdfData;if(t&&t.length)if(t.length>2){localStorage.setItem("pdfList",l()(t.slice(1)));var s={linkType:"2",link:window.location.origin+window.location.pathname+"#"+k.k+k.c+k.e+(o.search||"?").replace(/&styleColor=(black)|(white)/,"")+"&styleColor=white&annoID="+e.annoID};try{navigator.uniaccount.jumpActivity(s)}catch(e){console.log(e)}}else{var c=t[0].attaFile||"blank";t.length>1&&(c=t[1].attaFile||"blank");var r="https://data.alldobetter.com/Attachment/"+c.substring(9,13)+"/"+c.substring(13,15)+"/"+c.substring(15,17)+"/"+c,p=window.location.origin+window.location.pathname+"#"+k.k+k.c+k.e+k.d+o.search+"&href="+r+"&styleColor=white";c.indexOf(".PDF")<0&&(p=e.annH5Link);var u={linkType:"2",link:p};try{n.url.indexOf("announce/all")<0&&Object(I.a)("公告详情"),navigator.uniaccount.jumpActivity(u)}catch(e){console.log(e)}}else i.a.info("暂无详情预览")}).catch(function(e){return console.error(e)})):i.a.info("暂无详情预览")},a.state={appIps:"1"},a}return y()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=this;w.a.getAppInfo().then(function(t){console.log("接口获取的值为"+t.appVersionCode),e.setState({appIps:t.appVersionCode})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=(o()(t,["data"]),"");return parseInt(this.state.appIps)>=1&&(n="keep-white"),a&&a.map(function(t){return D.a.createElement("div",{className:"ListItem "+n,key:t.annoID,onClick:function(){return e.toDetail(t)}},D.a.createElement("div",{className:"newsListItem"},D.a.createElement("div",{className:"titleWrap"},D.a.createElement("div",{className:"title"},t.infoTitle)),D.a.createElement("div",{className:"dateWrap announce"},D.a.createElement("div",{className:"category"},t.annCategory||""),D.a.createElement("div",{className:"date"},(t.infoPublTime||"").slice(0,-3)))))})}}]),t}(C.Component);t.a=Object(E.b)(function(e){var t=e.announce.pdf;return{isLoading:t.isLoading,pdfData:t.data}},{getAnnouncePdf:N.b})(L)},"oh+g":function(e,t,a){var n=a("WEpk"),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}}}]);